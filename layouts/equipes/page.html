{{ define "main" }}
  {{/* Get the calendar information if possible */}}
  {{ $data := dict }}
  {{ if .Params.calendarName }}
    {{ $data = index .Site.Data.calendars .Params.calendarName }}
  {{ end }}


  <article class="team">
    {{ with .Params.image }}
      <div class="text-center">
        <img src="{{ . }}" class="rounded img-fluid" alt="{{ page.Title }} image" />
      </div>
    {{ end }}
    {{ if .Draft }}
      <span class="badge bg-warning float-end">Brouillon</span>
    {{ end }}
    <h1>{{ .Title }}</h1>
    {{ .Content }}


    <div class="calendar">
      {{ with $data }}
        <h2>Calendrier des matchs</h2>
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Ã‰quipes</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            {{ range . }}
              <tr>
                <td>{{ .local | lower | title }} VS {{ .visitor | lower | title }}</td>
                <td>{{ index .date 0 | time.Format ":date_medium" }}</td>
              </tr>
            {{ end }}
          </tbody>
        </table>
      {{ else }}
        {{ if in .Params.categories "FSGT" }}
          <h2>Calendrier des matchs</h2>
          <p>Pas de match programmÃ© pour le moment... ðŸ˜ž</p>
        {{ end }}
      {{ end }}
    </div>

    {{ $elements := .Resources.Match "images/*.jpg" }}
    {{ with $elements }}
      <h2>Galerie</h2>
      <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          {{ range $index, $element := $elements }}
            <div class="carousel-item {{ if (eq $index 0) }}active{{ end }}">
              {{ with $element.Fill "800x450" }}
                <img src="{{ .RelPermalink }}" width="{{ .Width }}" height="{{ .Height }}" alt="" />
              {{ end }}
            </div>
          {{ end }}
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleAutoplaying"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleAutoplaying"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    {{ end }}

  </article>
{{ end }}
