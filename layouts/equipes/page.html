{{ define "main" }}
  <article class="team">
    {{ with .Params.image }}
      <div class="text-center">
        <img src="{{ . }}" class="rounded img-fluid" alt="{{ page.Title }} image" />
      </div>
    {{ end }}
    {{ if .Draft }}
      <span class="badge bg-warning float-end">Brouillon</span>
    {{ end }}
    <h1>{{ .Title }}</h1>
    {{ .Content }}


    <div class="calendar">
      <h2>Calendrier des matchs</h2>
      {{ if .Params.calendarName }}
        {{ with index .Site.Data.calendars .Params.calendarName }}
          <table class="table table-hover">
            <thead>
              <tr>
                <th>√âquipes</th>
                <th>Date</th>
                <th>Gymnase</th>
                <th>Adresse</th>
              </tr>
            </thead>
            <tbody>
              {{ range . }}
                <tr>
                  <td>{{ .local }} VS {{ .visitor }}</td>
                  <td>{{ index .date 0 | time.Format ":date_medium" }}</td>
                  {{ with .location }}
                    <td>{{ with .name }}{{ . }}{{ else }}Inconnu{{ end }}</td>
                    <td>
                      {{ with .voie }}{{ . }}{{ end }}
                      {{ .adresse }},
                      {{ .ville }}
                    </td>
                  {{ else }}
                    <td colspan="2">Inconnu</td>
                  {{ end }}
                </tr>
              {{ end }}
            </tbody>
          </table>
        {{ else }}
          {{ if in .Params.categories "FSGT" }}
            <p>Pas de match programm√© pour le moment... üòû</p>
          {{ else }}
            <p>Votre d√©veloppeur favori travaille pour r√©cup√©rer les matchs depuis les bons sites ‚ù§Ô∏è</p>
          {{ end }}
        {{ end }}
      {{ end }}
    </div>

    {{ $elements := .Resources.Match "images/*.jpg" }}
    {{ with $elements }}
      <h2>Galerie</h2>
      <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          {{ range $index, $element := $elements }}
            <div class="carousel-item {{ if (eq $index 0) }}active{{ end }}">
              {{ with $element.Fill "800x450" }}
                <img src="{{ .RelPermalink }}" width="{{ .Width }}" height="{{ .Height }}" alt="" />
              {{ end }}
            </div>
          {{ end }}
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleAutoplaying"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleAutoplaying"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    {{ end }}

  </article>
{{ end }}
