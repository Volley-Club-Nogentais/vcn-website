<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>VCN – Administration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: sans-serif;
        padding: 2rem;
        background: #f9f9f9;
        color: #333;
      }
    </style>
    <script type="module">
      import initCMS from 'https://unpkg.com/sveltia-cms@latest/dist/sveltia.module.js'

      initCMS({
        projectRoot: '/',
        collections: [
          {
            name: 'actualites',
            label: 'Actualités',
            folder: 'content/actualites',
            create: true,
            slug: '{{slug}}',
            fields: [
              { label: 'Titre', name: 'title', widget: 'string' },
              { label: 'Date', name: 'date', widget: 'datetime' },
              { label: 'Image', name: 'image', widget: 'image' },
              { label: 'Contenu', name: 'body', widget: 'markdown' },
            ],
          },
          {
            name: 'galerie',
            label: 'Galerie',
            folder: 'content/galerie',
            create: true,
            slug: '{{slug}}',
            fields: [
              { label: 'Titre', name: 'title', widget: 'string' },
              {
                label: 'Photos',
                name: 'images',
                widget: 'list',
                field: {
                  label: 'Image',
                  name: 'image',
                  widget: 'image',
                },
              },
            ],
          },
          {
            name: 'pages',
            label: 'Pages statiques',
            files: [
              {
                label: 'Page d’accueil',
                name: 'home',
                file: 'content/_index.md',
                fields: [
                  { label: 'Titre', name: 'title', widget: 'string' },
                  { label: 'Contenu', name: 'body', widget: 'markdown' },
                ],
              },
            ],
          },
        ],
      })
    </script>
  </head>
  <body>
    <h1>Chargement de l’interface d’administration…</h1>
  </body>
</html>
